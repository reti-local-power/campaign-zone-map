<!DOCTYPE html>
<html lang="en">

<!-- To-do list
- Add more info about campaign zones to the sidepanel so it's clear how they're developed and that I made them

-->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Suitable Sites for Community Solar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon-files/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-files/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-files/favicon-16x16.png">
    <link rel="manifest" href="favicon-files/site.webmanifest">
    <link rel="mask-icon" href="favicon-files/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">


</head>

<body>
    <div class="parent">

        <!-- Title content -->
        <div class="header">
            <div class="header-text">
                Campaign Zones for Siting Community Solar in Brooklyn Neighborhoods
            </div>
        </div>

        <p>
        </p>

        <!-- Map goes here -->
        <div class="map-container" id="my-map-container"></div>

    </div>

    <!-- Button to reopen the side panel container (this always appears) -->
    <!-- NOTE: this must sit outside the sidepanel div so it stays open -->
    <button type="button" class="reopen-container-button" onclick="openNav()">
        <!-- Use Bootstrap chevron icon (https://icons.getbootstrap.com/icons/chevron-right/) -->
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right"
            viewBox="0 0 16 16">
            <path fill-rule="evenodd"
                d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708" />
        </svg>
        <!-- > -->
    </button>

    <!-- Permanent panel that sits on top of the map and is where clickable information goes -->
    <div id="info-panel">
        <!-- Button to close the sidepanel -->
        <button type="button" id="info-button" onclick=closeinfo()>
            ×
        </button>
        <div id="info-panel-text"></div>
    </div>
    <div id="info-panel-instruction">
        <b>Click on a campaign zone or zoom in to click on a building and learn more.</b>
    </div>

    <!-- Create layer menu to toggle certain layers on and off -->
    <div class="layer-menu" id="my-layer-menu">
        <div id="layer-menu-title">
            <!-- Call to action for layer menu -->
            Click to show or hide layers
        </div>

        <button type="button" class="layer-menu-button" id="reti-button">
            <span class="legend-key"
                style="background-color: #f57b00; border-color: #f57b00; border-style: solid"></span>
            <span>Existing RETI Center Community Solar Projects</span>
        </button>
        <button type="button" class="layer-menu-button" id="bid-button">
            <span class="legend-key"
                style="background-color: #9af5111a; border-color: #98f511; border-style: solid"></span>
            <span>Business Improvement Districts (BIDs)</span>
        </button>
        <button type="button" class="layer-menu-button" id="ibz-button">
            <span class="legend-key"
                style="background-color: #f5be711a; border-color: #f5be71; border-style: solid"></span>
            <span>Industrial Business Zones (IBZs)</span>
        </button>
        <button type="button" class="layer-menu-button" id="cd-button">
            <span class="legend-key"
                style="background-color: #e4e4e4; border-color: #666666; border-style: solid"></span>
            <span>Community Districts</span>
        </button>
        <button type="button" class="layer-menu-button" id="council-button">
            <span class="legend-key"
                style="background-color: #e4e4e4; border-color: #282828; border-style: solid"></span>
            <span>City Council Districts</span>
        </button>

        <button type="button" class="layer-menu-button" id="dac-button">
            <span>Environmental Justice Disadvantaged Community (DAC) Maps</span>
            <p></p>
            <div id="dac-button-legend">
                <span class="legend-key" style="background-color: #80d366;"></span>
                <span>Federal and state DAC</span> <br>
                <span class="legend-key" style="background-color: #fff400;"></span>
                <span>Federal DAC only</span> <br>
                <span class="legend-key" style="background-color: #00b2cb;"></span>
                <span>State DAC only</span>
            </div>
        </button>
    </div>

    <!-- <nav id="layer-menu">
        <div id="layer-menu-title">
            Click to show or hide additional layers
        </div>
    </nav> -->

    <!-- Create legend that floats over the map in the bottom right corner -->
    <div class="legend">
        <b>Legend</b>
        <!-- Add styling to put space between sections of the legend -->
        <div style="padding-top: 6px; padding-bottom: 6px;">
            <span class="legend-key"
                style="background-color: hsla(266, 57%, 36%, 0.4); border-color: rgba(84, 39, 143, 0.80);"></span>
            <span>Campaign Zones</span>
            <span class="fa-sharp fa-solid fa-circle-info" data-bs-container="body" data-bs-toggle="popover"
                data-bs-trigger="hover focus" data-bs-placement="top"
                data-bs-content="Campaign Zones are clusters of highly suitable sites for rooftop community solar. They were constructed as part of this research project and are based on building suitability scores."></span>
        </div>
        <div>
            <span class="legend-subtitle"></span>
            <span><i>Building suitability score</i></span>
            <span class="fa-sharp fa-solid fa-circle-info" data-bs-container="body" data-bs-toggle="popover"
                data-bs-trigger="hover focus" data-bs-placement="top"
                data-bs-content="Buildings are scored on their sutability for hosting community solar. Buildings were scored based on their solar energy potential, physical characteristics, ownership arrangement, land use/zoning, and other factors determined to be important by RETI Center. The maximum score is 14."></span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #f7fbff;"></span>
            <span>0-2</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #c8dcf0;"></span>
            <span>3-5</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #73b2d8;"></span>
            <span>6-8</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #2979b9;"></span>
            <span>9-11</span>
        </div>
        <div>
            <span class="legend-key" style="background-color: #08306b;"></span>
            <span>12-14</span>
        </div>
    </div>

    <!-- Content of the sidepanel starts here -->
    <div id="my-sidepanel">

        <!-- Button to close the sidepanel -->
        <button type="button" class="container-button" onclick="closeNav()">
            <!-- Use Bootstrap chevron icon (https://icons.getbootstrap.com/icons/chevron-left/) -->
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-chevron-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0" />
            </svg>
            <!-- × -->
        </button>

        <!-- Invitation to action -->
        <div id="instructions">
            <p>This map is a tool for outreach to property owners and potential subscribers in community solar projects
                in Brooklyn,
                NY.</p>
            <p>Click the buttons below to learn more about this map.</p>
        </div>

        <!-- This is the FAQ content that sits within the side panel. -->
        <!-- Clicking on a collapsible opens up the content below. -->
        <button type="button" class="collapsible">
            What is this map?
        </button>
        <div id="b1" class="content">
            <p></p>
            <p>This map shows <b>buildings</b> that are suitable for installing rooftop community solar. Buildings are
                scored based on a
                variety of factors (roof height, local laws, and potential solar energy generation).</p>
            <p>The map also shows <b>campaign zones</b>, clusters of highly suitable buildings that can be targeted for
                outreach as part of
                a campaign.</p>
            <p>Finally, this map also provides information about communities of concentrated need that should be
                prioritized for
                community solar <b>subscriber outreach</b>.</p>
            <p></p>
        </div>

        <button type="button" class="collapsible">
            How do I use this map?
        </button>
        <div id="b2" class="content">
            <p></p>
            <p>Zoom out and click on campaign zones to learn more about that cluster of buildings and what makes that
                area a good fit for community solar.</p>
            <p>Zoom in and click on individual buildings to learn more about what makes them suitable sites for
                community solar.</p>
            <p></p>
        </div>

        <button type="button" class="collapsible">
            Where does the data come from?
        </button>
        <div id="b3" class="content">
            <p></p>
            <p>The data is all publicly available (mostly from NYC Open Data) and was pulled together by Henry
                Kanengiser. Click <a href="https://github.com/henry-kanengiser/fcny-community-solar/"
                    target="_blank">here</a> for the GitHub repository to see the code used. </p>
            <p>This map is the culmination of research conducted as part of the Fund for the City of New York's
                Community Planning
                Fellowship (2023-24). You can learn more about the project <a
                    href="https://docs.google.com/document/d/1p8KHb42GYJB7AQWe59qKt4wDBq_-9EH7pqfoifi0AA8/edit"
                    target="_blank">here</a>.</p>
            <p></p>
        </div>

    </div>

    <!-- Java script calls -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous">
        </script>
    <script src="https://kit.fontawesome.com/bf3fa8a055.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/listeners.js"></script>
</body>

</html>